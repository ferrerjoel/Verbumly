package com.example.verbumly.data

import android.content.Context
import android.util.Log
import java.io.IOException
import kotlin.random.Random

object WordData {
    private var words : HashMap<Int, String> = HashMap<Int, String>()
    private lateinit var dictionary : String

    private lateinit var appContext: Context
    fun init(context: Context)
    {
        println("Singleton class invoked")

        appContext = context

        allocateData()

        dictionary = try {
            readFileDirectlyAsText("dictionary.txt")
        } catch (e: IOException) {
            // Handle the error
            e.printStackTrace()
            ""
        }
    }

    /**
     * Returns a random word providing the number of letters the word has
     */
    fun getRandomWord(letters: Int): String {

        if (words.containsKey(letters)){
            val randomPosition = Random.nextInt(0, (words[letters]!!.length  / letters))
            Log.d("DEBUG", " " + words[letters]!!.length + " " + (words[letters]!!.length / letters) + " " + randomPosition + " " + randomPosition * letters + " " + randomPosition * letters + letters )
            return words[letters]!!.substring(randomPosition * letters, randomPosition * letters + letters)
        }

        return ""

    }

    /**
     * Returns true if the word exists in the assets/dictionary.txt
     */
    fun wordExists(word : String): Boolean {
        if (dictionary.contains(word.lowercase())) return true
        return false
    }

    /**
     * Fills the array with the data need, this data being a large string with separated words
     */
    private fun allocateData(){
        words[4] = "ableacidaideaidsallyalsoarabareaarmyautoawaybabybackbakeballbandbankbasebeanbearbeatbeerbellbeltbendbestbikebillbindbirdbiteblowblueboatbodybombbondbonebookboombootbornbossbothbowlbuckburnburybusycakecallcampcardcarecasecashcastcellchefchipcitecityclubcluecoalcoatcodecoldcomecookcoolcopecopycorecorncostcrewcropdaredarkdatadatedeaddealdeardebtdeckdeepdeerdenydeskdietdirtdishdoordowndragdrawdropdrugdustdutyeachearneaseeasteasyedgeelseeveneverfacefactfadefailfairfallfarmfastfatefearfeedfeelfilefillfilmfindfinefirefirmfishfiveflagflatfleeflowfolkfoodfootformfourfreefromfuelfullfundgaingameganggategazegeargenegiftgirlgivegladgoalgoldgolfgoodgrabgraygrowhairhalfhallhandhanghardhatehaveheadhearheatheelhellhelphereherohidehighhillhireholdholeholyhomehopehosthourhugehurtideaintoironitemjailjoinjokejumpjuryjustkeepkickkillkindkingkisskneeknowlackladylakelandlastlatelawnleadleafleanleftlesslifeliftlikelinelinklistliveloadloanlocklonglookloselosslostlotsloudlovelucklungmailmainmakemalemallmanymarkmaskmassmathmealmeanmeatmeetmenumeremessmilkmindminemissmodemoodmoonmoremostmovemuchmustmythnamenearneckneednewsnextniceninenonenosenoteoddsokayonceonlyontoopenovenoverpacepackpagepainpairpalepalmpantparkpartpasspastpathpeakpeerpickpilepinepinkpipeplanplayplotpluspoempoetpolepollpoolpoorportposepostpourpraypullpurepushquitracerailrainrankrareratereadrealrelyrestricerichrideringriseriskroadrockrolerollroofroomrootroperoserulerushsafesakesalesaltsamesandsaveseatseedseekseemselfsellsendshipshitshoeshopshotshowshutsicksidesighsignsingsinksitesizeskinslipslowsnapsnowsoftsoilsomesongsoonsortsoulsoupspinspotstarstaystepstirstopsuchsuitsureswimtailtaketaletalktalltanktapetaskteamtearteentelltendtenttermtesttextthanthatthemthentheythinthisthustimetinytiretonetooltosstourtowntreetriptruetubeturntwintypeuglyunituponurgeuseduservaryvastveryviewvotewagewaitwakewalkwallwantwarmwarnwashwaveweakwearweekwellwestwhatwhenwhomwidewifewildwillwindwinewingwipewirewisewishwithwoodwordworkwrapyardyeahyearyellyourzone"
        words[5] = "aboutaboveabuseactoradaptadmitadoptadultafteragainagentagreeaheadalbumaliveallowalonealongalteramongangerangleangryapartappleapplyarguearisearmedasianasideassetavoidawardawareawfulbadlybasicbasisbeachbeginbeingbelowbenchbiblebirthblackbladeblameblindblockbloodboardbrainbrandbreadbreakbrickbriefbringbroadbrownbrushbuildbunchbuyercabincablecarrycatchcausechainchairchartchasecheapcheckcheekchestchiefchildcivilclaimclasscleanclearclimbclockclosecloudcoachcoastcolorcouchcouldcountcourtcovercrackcraftcrashcrazycreamcrimecrosscrowdcycledailydancedeathdelaydepthdirtydoubtdozendraftdramadreamdressdrinkdriveeagerearlyeartheightelecteliteemptyenemyenjoyenterentryequalerroressayeventeveryexactexistextrafaithfalsefaultfavorfencefewerfiberfieldfifthfiftyfightfinalfirstflamefleshfloatfloorfocusforceforthfoundframefreshfrontfruitfullyfunnyghostgiantgivenglassglovegradegraingrandgrantgrassgravegreatgreengroupguardguessguestguidehabithappyheartheavyhellohoneyhonorhorsehotelhousehumanhumoridealimageimplyindexinneriraqiirishissuejointjudgejuiceknifeknocklabellaborlargelaterlatinlaughlayerlearnleastleavelegallemonlevellightlimitlocallooseloverlowerluckylunchmajormakermarrymatchmaybemayormediametalmetermightminormodelmoneymonthmoralmotormountmousemouthmoviemusicnakednervenevernewlynightnoisenorthnovelnurseoccuroceanofferoftenonionorderotheroughtownerpaintpanelpaperpartypatchpausepeacephasephonephotopianopiecepilotpitchplaceplaneplantplatepointporchpoundpowerpresspriceprideprimeprintpriorproofproudprovequickquietquitequoteradioraiserangerapidratioreachreactreadyreferrelaxreplyriflerightriverroughroundrouteruralsaladsalessaucescalescenescopescoreseizesenseservesevenshadeshakeshallshapesharesharpsheetshelfshellshiftshineshirtshockshootshoreshortshoutshrugsightsinceskillslavesleepsliceslidesmallsmartsmellsmilesmokesolarsolidsolvesorrysoundsouthspacespeakspeedspendsplitsportstaffstagestairstakestandstarestartstatestealsteelstickstillstockstonestorestormstorystripstudystuffstylesugarsuperswearsweepsweetswingtabletasteteachtermsthanktheirthemetherethesethickthingthinkthirdthosethreethrowtighttiredtitletodaytoothtopictotaltouchtoughtowertracetracktradetrailtraintreattrendtrialtribetricktrooptrucktrulytrusttruthtwiceuncleunderunionuntilupperurbanusualvaluevideovirusvisitvitalvoicevoterwastewatchwaterweighwheelwherewhichwhilewhitewholewhosewomanworksworldworryworthwouldwoundwritewrongyieldyoungyoursyouth"
        words[6] = "abroadabsorbacceptaccessaccuseacrossactionactiveactualadjustadmireadviceadviseaffairaffectaffordafraidagencyagendaalmostalwaysamountanimalannualansweranyoneanywayappealappeararoundarrestarriveartistasleepaspectassertassessassignassistassumeassureattachattackattendauthorbarelybarrelbasketbattlebeautybecomebeforebehindbeliefbelongbesidebetterbeyondborderborrowbotherbottlebottombranchbreastbreathbridgebrightbrokenbudgetbulletburdenbutterbuttoncameracampuscancercarboncareercenterchancechangechargecheesechoicechoosechurchcircleclientclinicclosercoffeecolumncomedycommitcommoncookiecornercottoncountycouplecoursecousincreatecreditcrisiscriticcustomdamagedangerdealerdebatedecadedecidedeeplydefeatdefenddefinedegreedemanddependdepictdeputyderivedesertdesigndesiredetaildetectdevicedevotedifferdiningdinnerdirectdividedoctordoubledriverduringeasilyeditoreffectefforteither"
        words[7] = "abandonabilityabsenceaccountachieveacquireactressaddressadvanceadviserafricanagainstairlineairportalcoholalreadyamazinganalystanalyzeancientanotheranxietyanybodyanymoreappointapprovearrangearrivalarticleassaultathleteattemptattractaveragebalancebarrierbatterybecausebedroombelievebeneathbenefitbesidesbetweenbillionblanketbombingbreathebrieflybritishbrothercabinetcapablecapitalcaptaincapturecarefulcarrierceilingcentralcenturycertainchamberchannelchaptercharitychickenchinesecitizenclassicclearlyclimatecloselyclothesclustercollectcollegecombinecomfortcommandcommentcompanycomparecompetecomplexcomposeconceptconcernconcertconductconfirmconnectconsistconsumecontactcontaincontentcontestcontextcontrolconvertcookingcorrectcouncilcountercountrycouragecrucialculturecuriouscurrentdeclaredeclinedefensedeficitdeliverdeservedespitedestroydevelopdigitaldiscussdiseasedismissdisplaydisputedistantdiversedivorcedrawingeasterneconomyeditioneducateelderlyelementembraceemotionenglishenhanceepisodeequallyeveningexactlyexamineexampleexhibitexpenseexplainexplodeexploreexpressextremefactoryfacultyfailurefantasyfashionfeaturefederalfeelingfictionfifteenfighterfinallyfinancefindingfishingfitnessforeignforeverformulafortuneforwardfounderfreedomfundingfuneralgallerygeneralgeneticgesturegrocerygrowinghabitathandfulhealthyhearingheavilyhelpfulherselfhighwayhimselfhistoryholidayhorizonhousinghoweverhundredhuntinghusbandillegalillnessimagineimpressimproveincludeinitialinquiryinsightinspireinstallinsteadintenseinvolveislamicisraeliitalianjournaljourneyjusticejustifykillingkitchenlargelylawsuitleadingleatherliberallibrarylicenselimitedmachinemanagermarriedmassivemeaningmeasuremedicalmeetingmentionmessagemexicanmillionmiraclemissilemissionmistakemixturemonitormorningmusicalmysterynaturalneithernervousnetworknothingnowherenuclearobserveobviousoffenseofficerolympicongoingopeningoperateopinionorganicoutcomeoutsideoverallpackagepainfulpainterparkingpartnerpassagepassionpatientpatternpaymentpenaltyperfectperformperhapspictureplasticpopularportionportraypossesspovertypredictpreparepresentpretendpreventprimaryprivacyprivateproblemproceedprocessproduceproductprofileprogramprojectpromisepromoteproposeprotectproteinprotestprovidepublishpurposequalifyqualityquarterquicklyquietlyradicalrapidlyreadingrealityrealizereceiverecoverrecruitreflectrefugeeregularreleasereplacerequestrequireresolverespectrespondrestorerevenueroughlyroutinerunningrussiansatisfyscandalscholarsciencesectionsegmentsenatorseriousservicesessionsettingseveralsheltershortlysilencesimilarsocietysoldiersomehowsomeonespanishspeakerspecialspeciessqueezestationstomachstoragestrangestretchstudentsubjectsucceedsuccesssuggestsuicidesupportsupposesupremesurfacesurgerysurvivesuspectsustainsymptomteachertensiontestifytestingtheatertherapythoughtthroughtobaccotonighttotallytouristtowardstraffictragedytroubletypicalundergouniformunknownunusualusuallyutilityvarietyvariousvehicleventureversionveteranvictoryvillageviolateviolentvisiblevisitorwarningwealthyweatherweddingweekendwelcomewelfarewesternwhereaswhetherwhisperwillingwithoutwitnessworkingworriedwriting"
        words[8] = "abortionabsoluteacademicaccidentaccurateactivistactivityactuallyadditionadequateadvancedadvocateaircraftalliancealthoughamericananalysisannounceanythinganywhereapparentapproachapprovalargumentartisticathleticattitudeattorneyaudiencebaseballbathroombehaviorbirthdayboundarybuildingbusinesscampaigncanadiancapacitycategorycatholicceremonychairmanchampionchangingchemicalcivilianclinicalclothingcollapsecolonialcomplaincompletecomputerconcludeconcreteconflictconfrontcongressconsiderconstantconsumercontinuecontractcontrastconvincecoveragecreationcreativecreaturecriminalcriteriacriticalculturalcustomerdarknessdaughterdecisiondecreasedeliverydemocratdescribedesignerdetaileddialoguedirectlydirectordisagreedisasterdiscoverdisorderdistancedistinctdistrictdivisiondocumentdomesticdominantdominatedowntowndramaticearningseconomiceducatorelectionelectricemissionemphasisemployeeemployerengineerenormousentirelyentranceestimateeuropeanevaluateeverydayeveryoneevidenceexchangeexcitingexerciseexistingexposureexternalfacilityfamiliarfavoritefightingfootballfrequentfriendlyfunctiongenerategovernorgraduategreatestheadlineheritagehistorichomelesshospitalidentifyidentityincidentincreaseindicateindustryinnocentinstanceinterestinternalinternetinvasioninvestorinvolvedjapanesejudgmentlanguagelearninglifetimeliterarylocationmagazinemaintainmajoritymarriagematerialmedicinemilitaryministerminoritymoderatemoreovermortgagemountainmovementmultiplemusiciannationalnegativeneighbornormallynorthernnumerousobserveroccasionofficialoperatoropponentoppositeordinaryorganizeoriginalovercomeoverlookpaintingperceivepersonalpersuadephysicalplanningplatformpleasurepoliticsportraitpositionpositivepossiblepossiblypowerfulpracticepregnantpresencepreservepressurepreviouspriorityprisonerprobablyproducerprogressproperlypropertyproposalproposedprospectproviderprovincepubliclypurchasequestionreactionrecentlyrecoveryregionalregisterregulaterelationrelativerelevantreligionrememberreporterresearchresembleresidentresourceresponseromanticsanctionscenarioschedulesecuritysentenceseparatesequenceshootingshoppingshoulderslightlysoftwaresolutionsomebodysomewhatsouthernspecificspendingstandardstandingstraightstrangerstrategystrengthstronglystrugglesuddenlysupposedsurprisesurroundsurvivalsurvivortaxpayerteachingteaspoonteenagertendencyterriblethinkingthousandthreatentogethertomorrowtrainingtransferultimateuniverseunlikelyvacationvaluablevariableviolencewhateverwheneverwithdrawworkshopyourself"
    }

    /**
     * Reads a file and returns it's content as a string separated by lines
     */
    private fun readFileDirectlyAsText(fileName: String): String{
        return appContext.assets.open(fileName).bufferedReader().use {
            it.readText()
        }
    }



}
